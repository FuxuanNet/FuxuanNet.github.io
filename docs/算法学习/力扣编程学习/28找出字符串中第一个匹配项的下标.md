---
title: 28找出字符串中第一个匹配项的下标
date: 2025-02-09
details: 编程基础 0 到 1
---

::: tip
给你两个字符串 `haystack` 和 `needle` ，请你在 `haystack` 字符串中找出 `needle` 字符串的第一个匹配项的下标（下标从 `0` 开始）。如果 `needle` 不是 `haystack` 的一部分，则返回  `-1` 。
:::

::: details
这道题目中，C 语言的 `<string.h>` 库中提供了函数 `strstr()`，可以用来查找子字符串。

`strstr()` 函数用于在字符串 `haystack` 中查找子字符串 `needle` 的第一次出现位置。

如果找到，则返回指向该位置的指针；如果未找到，则返回 `NULL`。
:::

这里一开始我犯了三个低级错误：

- 第一是 `if` 语句判断时竟然将逻辑运算符写成了赋值语句

- 第二是相减时忘记了判断 `needle` 是否为空。

- 同时 `strstr` 函数返回的应该是字符串 `haystack` 的位置，我竟然将 `needle` 的位置作为了返回值。

<<< ./code/28.c
